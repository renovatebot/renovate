// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`modules/manager/terraform/hcl/index parseHCL() should return flat modules 1`] = `
{
  "module": {
    "bar": [
      {
        "source": "github.com/hashicorp/example?ref=next",
      },
    ],
    "consul": [
      {
        "source": "hashicorp/consul/aws",
        "version": "0.1.0",
      },
    ],
    "foo": [
      {
        "source": "github.com/hashicorp/example?ref=v1.0.0",
      },
    ],
    "repo-with-dot": [
      {
        "source": "github.com/hashicorp/example.2.3?ref=v1.0.0",
      },
    ],
    "repo-with-dot-and-git-suffix": [
      {
        "source": "github.com/hashicorp/example.2.3.git?ref=v1.0.0",
      },
    ],
    "repo-with-non-semver-ref": [
      {
        "source": "github.com/githubuser/myrepo//terraform/modules/moduleone?ref=tfmodule_one-v0.0.9",
      },
    ],
  },
}
`;

exports[`modules/manager/terraform/hcl/index parseHCL() should return nested terraform block 1`] = `
{
  "terraform": [
    {
      "required_providers": [
        {
          "aws": {
            "source": "aws",
            "version": "~> 3.0",
          },
          "azurerm": {
            "version": "~> 2.50.0",
          },
          "kubernetes": {
            "source": "terraform.example.com/example/kubernetes",
            "version": ">= 1.0",
          },
        },
      ],
    },
  ],
}
`;

exports[`modules/manager/terraform/hcl/index parseHCL() should return resource blocks 1`] = `
{
  "resource": {
    "docker_container": {
      "foo": [
        {
          "image": "nginx:1.7.8",
          "name": "foo",
        },
      ],
      "invalid": [
        {
          "name": "foo",
        },
      ],
    },
    "docker_service": {
      "foo": [
        {
          "endpoint_spec": [
            {
              "ports": [
                {
                  "target_port": "8080",
                },
              ],
            },
          ],
          "name": "foo-service",
          "task_spec": [
            {
              "container_spec": [
                {
                  "image": "repo.mycompany.com:8080/foo-service:v1",
                },
              ],
            },
          ],
        },
      ],
    },
  },
}
`;

exports[`modules/manager/terraform/hcl/index parseJSON should parse json 1`] = `
{
  "resource": {
    "aws_instance": {
      "example": {
        "provisioner": [
          {
            "local-exec": {
              "command": "echo 'Hello World' >example.txt",
            },
          },
          {
            "file": {
              "destination": "/tmp/example.txt",
              "source": "example.txt",
            },
          },
          {
            "remote-exec": {
              "inline": [
                "sudo install-something -f /tmp/example.txt",
              ],
            },
          },
        ],
      },
    },
  },
}
`;
